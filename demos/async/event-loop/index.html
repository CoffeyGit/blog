<!--
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
-->

<link rel="stylesheet" href="./highlight/styles/monokai-sublime.css">
<script src="./highlight/highlight.pack.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<!-- 引入样式 -->
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
<!-- 引入组件库 -->

<script src="https://unpkg.com/element-ui/lib/index.js"></script>

<link rel="stylesheet" href="./style.css">


<script>
hljs.initHighlightingOnLoad();
</script>

<style>


</style>

<div id="app">
<div class="event-loop">
  <div class="code-stack-title">
    <p>code</p>
    <div>stack</div>
    <div>webapis</div>
  </div>
  <div class="code-stack">
    <pre class="code">
      <code class="js">
        console.log('start');
  
        setTimeout(function() {
          console.log('setTimeout');
        }, 0);
  
        Promise.resolve().then(function() {
          console.log('promise1');
        }).then(function() {
          console.log('promise2');
        });
  
       console.log('end');
  
      </code>
      <div v-bind:style="curCodeStyle" v-if="currentStep" class="code-current" ></div>
    </pre>
  
    <stack ref="stack" class="call-stack" v-bind:items="currentData.callStack"></stack>
    <column ref="column" class="webapis"  v-bind:items="currentData.webapis" ></column>


  </div>

  <div ref="circle" class="event-loop-circle">
    <i class="el-icon-refresh"></i>
  </div>

  <table class="queue-table">
    <tbody>
      <tr>
        <th>Task Queue</th>
        <td>
          <queue ref="taskQueue" class="task-queue" v-bind:items="currentData.taskQueue" ></queue>
        </td>
      </tr>
      <tr>
        <th>Micro Task Queue</th>
        <td>
          <queue ref="microTaskQueue" class="micro-task-queue" v-bind:items="currentData.microTaskQueue" ></queue>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="actions">

    <el-button v-on:click="next" icon="el-icon-caret-right" type="primary">next</el-button>
    <el-button v-on:click="prev" icon="el-icon-caret-left" type="primary">prev</el-button>
    <el-button>{{currentStep}}</el-button>
  </div>

  <div id="console" class="console">
      <h3>console output:</h3>
      <p v-for="item in currentData.console">{{item}}</p>
  </div>
</div>


</div>
<script src="./stepData.js"></script>
<script src="./index.js"></script>